"use strict";(self["webpackChunkf2e_week2"]=self["webpackChunkf2e_week2"]||[]).push([[615],{970:function(t,e,s){s.d(e,{Z:function(){return o}});var i=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("g",[e("path",{attrs:{d:"M15 18.5L9 12.5L15 6.5",stroke:"CurrentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])])},r=[],a=s(1001),l={},n=(0,a.Z)(l,i,r,!1,null,null,null),o=n.exports},1265:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});s(7658);var i=function(){var t=this,e=t._self._c;return e("main",{staticClass:"w-full relative z-10 bg-primary_blue_dark pt-24 min-h-screen flex md:flex-col"},[e("div",{staticClass:"w-full max-w-screen-xl mx-auto flex-1 flex md:flex-col"},[e("div",{staticClass:"w-full bg-primary_white md:rounded-t-3xl rounded-tr-3xl flex-1 md:p-14 sm:px-10 px-8 py-16"},[e("div",{staticClass:"flex items-center justify-between pb-5 border-b border-zinc-300 sm:mb-20 mb-5"},[e("button",{staticClass:"flex flex-shrink-0 md:text-base text-sm items-centertransition-colors duration-200 hover:text-primary_blue_dark",on:{click:function(e){return t.$router.push("/tasks")}}},[e("IconArrowLeft",{staticClass:"w-6 h-6 sm:mr-2"}),e("span",{staticClass:"font-bold sm:block hidden"},[t._v("回主畫面")])],1),t._m(0),e("button",{staticClass:"sm:px-4 px-3 md:text-base sm:text-sm text-xs flex-shrink-0 sm:py-2 py-1 rounded-full border border-black font-bold",on:{click:function(e){return t.$router.push("/tasks")}}},[t._v(" 取消簽署 ")])]),e("div",{staticClass:"w-full max-w-screen-lg sm:p-10 rounded-3xl sm:bg-white mx-auto"},[e("div",{staticClass:"w-full border-b border-zinc-300 flex items-end mb-10"},[e("button",{staticClass:"px-4 py-2 font-bold border-b-2",class:"上傳新文件"==t.active_tab?"text-primary_blue border-primary_blue":"border-transparent",on:{click:function(e){t.active_tab="上傳新文件"}}},[t._v(" 上傳新文件 ")]),e("button",{staticClass:"px-4 py-2 font-bold border-b-2",class:"歷史文件"==t.active_tab?"text-primary_blue border-primary_blue":"border-transparent",on:{click:function(e){t.active_tab="歷史文件"}}},[t._v(" 歷史文件 ")])]),e("FileUploader",{directives:[{name:"show",rawName:"v-show",value:"上傳新文件"==t.active_tab,expression:"active_tab == '上傳新文件'"}]}),e("FileList",{directives:[{name:"show",rawName:"v-show",value:"歷史文件"==t.active_tab,expression:"active_tab == '歷史文件'"}]})],1)])])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center sm:mx-5 mx-3 flex-shrink w-auto"},[e("span",{staticClass:"sm:px-4 sm:py-2 sm:w-auto sm:h-auto w-8 h-8 flex items-center justify-center md:text-base text-sm flex-shrink-0 rounded-full bg-primary_blue text-white"},[e("b",{staticClass:"font-bold sm:block hidden"},[t._v("上傳文件")]),e("b",{staticClass:"font-bold sm:hidden block font-any-body"},[t._v("1")])]),e("i",{staticClass:"block h-[2px] sm:w-28 w-16 flex-shrink bg-primary_blue opacity-40"}),e("span",{staticClass:"sm:px-4 sm:py-2 sm:w-auto sm:h-auto w-8 h-8 flex items-center justify-center md:text-base text-sm flex-shrink-0 rounded-full bg-transparent text-primary_blue_light"},[e("b",{staticClass:"font-bold sm:block hidden"},[t._v("進行簽署")]),e("b",{staticClass:"font-bold sm:hidden block font-any-body"},[t._v("2")])]),e("i",{staticClass:"block h-[2px] sm:w-28 w-16 flex-shrink bg-primary_blue opacity-40"}),e("span",{staticClass:"sm:px-4 sm:py-2 sm:w-auto sm:h-auto w-8 h-8 flex items-center justify-center md:text-base text-sm flex-shrink-0 rounded-full bg-transparent text-primary_blue_light"},[e("b",{staticClass:"font-bold sm:block hidden"},[t._v("下載檔案")]),e("b",{staticClass:"font-bold sm:hidden block font-any-body"},[t._v("3")])])])}],a=s(970),l=function(){var t=this,e=t._self._c;return e("div",{ref:"FileDragZone",staticClass:"w-full py-24 sm:px-0 px-20 border border-dashed border-spacing-10 border-primary_blue rounded-3xl flex items-center justify-center"},[e("input",{ref:"FileUploader",attrs:{hidden:"",type:"file",accept:".jpg,.jpeg, .pdf, .png"}}),e("div",{staticClass:"text-center"},[e("button",{staticClass:"flex mb-3 mx-auto sm:text-base text-sm items-center font-bold text-white px-8 py-3 rounded-full bg-primary_blue transition-colors duration-200 hover:bg-opacity-70",on:{click:t.OpenUpload}},[e("img",{staticClass:"sm:w-6 w-5 mr-3",attrs:{src:"/2022_f2e_week2/img/icon/icon_file_upload.svg"}}),t._v(" 選擇檔案 ")]),e("p",{staticClass:"text-sm font-bold text-primary_blue mb-3"},[t._v("或")]),e("p",{staticClass:"text-sm font-bold text-primary_blue mb-5"},[t._v(" 直接拖曳檔案至此區塊 ")]),e("p",{staticClass:"text-primary_black text-opacity-60 md:text-base text-sm font-bold"},[t._v(" 檔案大小不得超過10MB且檔案類型需為PDF/JPG/PNG ")])])])},n=[],o=s(3529),d=s(2028),c={name:"FileUploader",data(){return{upload_file:null}},methods:{OpenUpload(){this.$refs.FileUploader.click()},Init(){this.$refs.FileUploader.addEventListener("change",this.FileSelectHandler,!1);var t=new XMLHttpRequest;t.upload&&(this.$refs.FileDragZone.addEventListener("dragover",this.FileDragHover,!1),this.$refs.FileDragZone.addEventListener("dragleave",this.FileDragHover,!1),this.$refs.FileDragZone.addEventListener("drop",this.FileSelectHandler,!1))},FileDragHover(t){t.stopPropagation(),t.preventDefault()},FileSelectHandler(t){this.FileDragHover(t);var e=t.target.files||t.dataTransfer.files;this.ParseFile(e[0]),this.upload_file=e[0]},async ParseFile(t){if(t.size>1e7)this.$store.commit("SetMainDialog",{action:!0,content:"檔案大小不得超過10MB"}),this.upload_file=null;else{const e=await(0,d.r)(t);(0,o.qQ)("upload_file",e),"application/pdf"==t.type?this.$router.push("/sign_and_send?type=upload_file&file_type=pdf"):this.$router.push("/sign_and_send?type=upload_file&file_type=image")}}},mounted(){this.Init()}},u=c,p=s(1001),m=(0,p.Z)(u,l,n,!1,null,null,null),f=m.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full"},[t._m(0),e("ol",t._l(t.history_file_list,(function(s,i){return e("li",{key:`file_${i}`,staticClass:"w-full flex items-center justify-between p-4"},[e("p",{staticClass:"font-bold sm:text-base text-sm flex-1"},[t._v(t._s(s.title))]),e("p",{staticClass:"sm:text-sm text-xs font-any-body w-28 font-semibold"},[t._v(" "+t._s(s.created_date)+" ")]),e("div",{staticClass:"text-sm text-primary_black text-opacity-60 w-28"},[e("button",{staticClass:"sm:py-2 py-1 sm:px-4 px-3 sm:text-sm text-xs font-semibold text-primary_blue border border-primary_blue sm:rounded-lg rounded-full transition-colors duration-200 hover:bg-primary_blue hover:text-white",on:{click:function(e){return t.$router.push(`/sign_and_send?type=history&id=${s.file_id}`)}}},[t._v(" 選擇文件 ")])])])})),0)])},x=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center justify-between py-2 px-4 bg-primary_white"},[e("p",{staticClass:"sm:text-sm text-xs text-primary_black text-opacity-60 flex-1"},[t._v(" 檔案名稱 ")]),e("p",{staticClass:"sm:text-sm text-xs text-primary_black text-opacity-60 w-28"},[t._v(" 上傳日期 ")]),e("p",{staticClass:"text-sm text-primary_black text-opacity-60 w-28"})])}],_={name:"FileList",computed:{history_file_list(){return this.$store.state.history_file_list}}},h=_,v=(0,p.Z)(h,b,x,!1,null,null,null),y=v.exports,w={name:"PrepareDocView",components:{IconArrowLeft:a.Z,FileUploader:f,FileList:y},data(){return{active_tab:"上傳新文件"}}},g=w,k=(0,p.Z)(g,i,r,!1,null,null,null),C=k.exports},2028:function(t,e,s){function i(t){return new Promise(((e,s)=>{const i=new FileReader;i.addEventListener("load",(()=>e(i.result))),i.addEventListener("error",s),i.readAsDataURL(t)}))}s.d(e,{r:function(){return i}})}}]);
//# sourceMappingURL=prepare_doc.f120992c.js.map